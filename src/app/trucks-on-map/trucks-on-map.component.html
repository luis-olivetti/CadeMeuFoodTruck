<div id="map" *ngIf="apiLoaded | async">
  <google-map [options]="optionsMap">
    <map-marker
      #marker="mapMarker"
      *ngFor="let markerPosition of markerPositions"
      [position]="markerPosition.position"
      (mapClick)="handleMarkerClick(markerPosition)"
    ></map-marker>
  </google-map>
  <div class="info-marker-content">
    <mat-card *ngIf="selectedMarker">
      <mat-card-header>
        <mat-card-title>{{ selectedMarker?.name }}</mat-card-title>
        <mat-card-subtitle>Tipo: {{ selectedMarker?.type }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p>Email: {{ selectedMarker?.email }}</p>
        <p>Telefone: {{ selectedMarker?.phone }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button>Gostei</button>
        <button mat-button>Compartilhar</button>
      </mat-card-actions>
    </mat-card>
    <mat-card *ngIf="!selectedMarker">
      <mat-card-header>
        <mat-card-title>Nenhum truck selecionado</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Selecione um marcador no mapa para mais informações</p>
      </mat-card-content>
    </mat-card>
  </div>
</div>
